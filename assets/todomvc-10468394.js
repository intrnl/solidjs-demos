import{r as Q,c as g,j as U,a as w,e as Y,i as d,F as X,S,u as Z,d as r,s as ee,t as u}from"./web-26ed1bef.js";const te=u('<header class="header"><h1>todos</h1><input placeholder="What needs to be done" class="new-todo" autofocus>'),le=u('<button class="clear-completed">Clear completed'),ie=u('<section class="main"><input id="toggle-all" type="checkbox" class="toggle-all"><label for="toggle-all">Mark all as complete</label><ul class="todo-list"></ul><footer class="footer"><span class="todo-count"><strong></strong> <!> left</span><ul class="filters"><li><a href="#/">All</a></li><li><a href="#/active">Active</a></li><li><a href="#/completed">Completed'),ne=u('<input class="edit">'),se=u('<li class="todo"><div class="view"><input type="checkbox" class="toggle"><label></label><button class="destroy">');function ce(){const b={all:e=>e,active:e=>e.filter(t=>!t.completed),completed:e=>e.filter(t=>t.completed)},[n,a]=w([]),[h,R]=w("all"),[$,x]=w(null),N=Y(()=>b[h()](n())),_=Y(()=>b.active(n()).length),F=e=>{a(n().map(t=>({...t,completed:e.target.value})))},M=()=>{a(n().filter(e=>!e.completed))},P=e=>{e.which===13&&(a(n().concat({id:Date.now(),title:e.target.value,completed:!1})),e.target.value="")},V=e=>{a(n().filter(t=>t.id!==e))},C=e=>{const t=n().slice(),c=t.findIndex(f=>f.id===e.id);c!==-1&&(t[c]={...t[c],...e},a(t))},j=(e,t)=>{C({id:e,completed:t.target.checked})},B=e=>{e.which===13?e.target.blur():e.which===27&&x(null)},D=e=>{C({id:$(),title:e.target.value}),$.value=null},k=()=>{let e=window.location.hash.replace(/#\/?/,"");b[e]||(e="all"),R(e)};return window.addEventListener("hashchange",k),k(),[(()=>{const e=te(),t=e.firstChild,c=t.nextSibling;return c.$$keydown=P,e})(),g(S,{get when(){return n().length>0},get children(){const e=ie(),t=e.firstChild,c=t.nextSibling,f=c.nextSibling,y=f.nextSibling,p=y.firstChild,L=p.firstChild,W=L.nextSibling,T=W.nextSibling;T.nextSibling;const q=p.nextSibling,A=q.firstChild,z=A.firstChild,I=A.nextSibling,G=I.firstChild,H=I.nextSibling,J=H.firstChild;return t.addEventListener("change",F),d(f,g(X,{get each(){return N()},children:l=>(()=>{const s=se(),v=s.firstChild,o=v.firstChild,E=o.nextSibling,O=E.nextSibling;return o.addEventListener("change",i=>j(l.id,i)),E.$$dblclick=()=>x(l.id),d(E,()=>l.title),O.$$click=()=>V(l.id),d(s,g(S,{get when(){return $()===l.id},get children(){const i=ne();return i.addEventListener("blur",D),i.$$keydown=B,Z(m=>setTimeout(()=>m.focus(),0),i),r(()=>ee(i,"defaultvalue",l.title)),i}}),null),r(i=>{const m=!!l.completed,K=$()===l.id;return m!==i._v$4&&s.classList.toggle("completed",i._v$4=m),K!==i._v$5&&s.classList.toggle("editing",i._v$5=K),i},{_v$4:void 0,_v$5:void 0}),r(()=>o.checked=l.completed),s})()})),d(L,_),d(p,()=>_()===1?"item":"items",T),d(y,g(S,{get when(){return n().length>_()},get children(){const l=le();return l.$$click=M,l}}),null),r(l=>{const s=h()==="all",v=h()==="active",o=h()==="completed";return s!==l._v$&&z.classList.toggle("selected",l._v$=s),v!==l._v$2&&G.classList.toggle("selected",l._v$2=v),o!==l._v$3&&J.classList.toggle("selected",l._v$3=o),l},{_v$:void 0,_v$2:void 0,_v$3:void 0}),r(()=>t.checked=_()===0),e}})]}Q(()=>g(ce,{}),document.getElementById("root"));U(["keydown","click","dblclick"]);
