import{r as e,c as t,j as l,a as i,e as n,i as s,F as c,S as a,u as d,d as o,s as r,t as g}from"./web-69618adc.js";const h=g('<header class="header"><h1>todos</h1><input placeholder="What needs to be done" class="new-todo" autofocus>'),u=g('<button class="clear-completed">Clear completed'),v=g('<section class="main"><input id="toggle-all" type="checkbox" class="toggle-all"><label for="toggle-all">Mark all as complete</label><ul class="todo-list"></ul><footer class="footer"><span class="todo-count"><strong></strong> <!> left</span><ul class="filters"><li><a href="#/">All</a></li><li><a href="#/active">Active</a></li><li><a href="#/completed">Completed'),f=g('<input class="edit">'),p=g('<li class="todo"><div class="view"><input type="checkbox" class="toggle"><label></label><button class="destroy">');function b(){const e={all:e=>e,active:e=>e.filter((e=>!e.completed)),completed:e=>e.filter((e=>e.completed))},[l,g]=i([]),[b,m]=i("all"),[$,w]=i(null),x=n((()=>e[b()](l()))),_=n((()=>e.active(l()).length)),k=e=>{g(l().map((t=>({...t,completed:e.target.value}))))},S=()=>{g(l().filter((e=>!e.completed)))},C=e=>{13===e.which&&(g(l().concat({id:Date.now(),title:e.target.value,completed:!1})),e.target.value="")},L=e=>{const t=l().slice(),i=t.findIndex((t=>t.id===e.id));-1!==i&&(t[i]={...t[i],...e},g(t))},y=e=>{13===e.which?e.target.blur():27===e.which&&w(null)},E=e=>{L({id:$(),title:e.target.value}),$.value=null},j=()=>{let t=window.location.hash.replace(/#\/?/,"");e[t]||(t="all"),m(t)};return window.addEventListener("hashchange",j),j(),[(()=>{const e=h();return e.firstChild.nextSibling.$$keydown=C,e})(),t(a,{get when(){return l().length>0},get children(){const e=v(),i=e.firstChild,n=i.nextSibling.nextSibling,h=n.nextSibling,m=h.firstChild,C=m.firstChild,j=C.nextSibling.nextSibling;j.nextSibling;const A=m.nextSibling.firstChild,I=A.firstChild,B=A.nextSibling,D=B.firstChild,F=B.nextSibling.firstChild;return i.addEventListener("change",k),s(n,t(c,{get each(){return x()},children:e=>(()=>{const i=p(),n=i.firstChild.firstChild,c=n.nextSibling,h=c.nextSibling;return n.addEventListener("change",(t=>((e,t)=>{L({id:e,completed:t.target.checked})})(e.id,t))),c.$$dblclick=()=>w(e.id),s(c,(()=>e.title)),h.$$click=()=>{return t=e.id,void g(l().filter((e=>e.id!==t)));var t},s(i,t(a,{get when(){return $()===e.id},get children(){const t=f();return t.addEventListener("blur",E),t.$$keydown=y,d((e=>setTimeout((()=>e.focus()),0)),t),o((()=>r(t,"defaultvalue",e.title))),t}}),null),o((t=>{const l=!!e.completed,n=!($()!==e.id);return l!==t._v$4&&i.classList.toggle("completed",t._v$4=l),n!==t._v$5&&i.classList.toggle("editing",t._v$5=n),t}),{_v$4:void 0,_v$5:void 0}),o((()=>n.checked=e.completed)),i})()})),s(C,_),s(m,(()=>1===_()?"item":"items"),j),s(h,t(a,{get when(){return l().length>_()},get children(){const e=u();return e.$$click=S,e}}),null),o((e=>{const t=!("all"!==b()),l=!("active"!==b()),i=!("completed"!==b());return t!==e._v$&&I.classList.toggle("selected",e._v$=t),l!==e._v$2&&D.classList.toggle("selected",e._v$2=l),i!==e._v$3&&F.classList.toggle("selected",e._v$3=i),e}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),o((()=>i.checked=0===_())),e}})]}e((()=>t(b,{})),document.getElementById("root")),l(["keydown","click","dblclick"]);
//# sourceMappingURL=todomvc-a49dda63.js.map
